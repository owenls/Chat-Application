{% extends "base.html" %} {% block title %}Home{% endblock %}

{% block mycss%}

<link rel="stylesheet" href="{{ url_for('static', filename='css/general.css') }}"/>
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}"/>
<link rel="stylesheet" href="{{ url_for('static', filename='css/scoreboard.css') }}"/>
<link rel="stylesheet" href="{{ url_for('static', filename='css/favourites.css') }}"/>
<link rel="stylesheet" href="{{ url_for('static', filename='css/members.css') }}"/>


{% endblock mycss%}

{% block content %} 


<div class="container-fluid">
    <div class="row">
        <div class="col-3" id="leftDiv">
            <div id="profileTopLeft">

                <p style="margin:0;"><b>User:</b> {{ user.username }}</p>
                <img src={{user.profile_picture}} class="ProfilePicture" alt="Profile Picture" id="profilePic" height="100px" width="100px">
                <p><b>Score:</b> {{ user.score }}</p>

            </div>
            
            <!-- Below includes the code in favourites.html -->
            {% include "favourites.html" %}
            
            <div>
                <td>
                    <form action="{{ url_for('auth.score_up') }}" method="post">
                    <input type="hidden" name="score_up" value="1"/>
                    <input type="submit" value="Score + 1"/>
                    </form>
                </td>
            </div>
        </div>

        <div class="col-6" id="contentDiv">
        
                <!-- Below includes the code in scoreboard.html -->
                {% include "scoreboard.html" %}
            
            <hr>
            <div class="publicAll"> 
                <div class="headers">
                    <h2>Public Chat Rooms</h2>
                </div>
                <form method="post" class="buttons" id="publicChats">
                    <div>
                        <input type="text"  name="name" value="{{ user.username }}" hidden>
                    </div>
                    <div id="chatButtons">
                        <button type="submit" name="globalChat" class="chatLink">Global Chat</button>
                        <button type="submit" name="lfgChat" class="chatLink">Looking for Group Chat</button>
                        <button type="submit" name="supportChat" class="chatLink">Support Chat</button>
                    </div>
                </form>

                <hr>
                <div id="formTitle">
                    <h4>Join or Create a Room</h4>
                </div>
                <form method="post" class="buttons">
                    <!-- Below Code would allow users to change their name that shows in a chat when joining/Creating a chat, is hidden for now -->
                    <div>
                        <input type="text"  name="name" value="{{ user.username }}" hidden>
                    </div>
                    <div class="join">
                        <!-- <label>Code:</label> -->
                        <div id="codeInput">
                            <input type="text" placeholder="Enter a Room Code" name="code" value="{{code}}">
                        </div>
                        <div id="errorFeedback">
                            {% if error %}
                                <p id="errorMsg">{{error}}</p>
                            {% endif %}
                        </div>  
                        <div id="join-and-create">
                            <Button type="submit" name="join" id="join-btn">Join a Room</Button>            
                            <Button type="submit" name="create" id="create-btn">Create New Room</Button>
                        </div>
                            
                    </div>
                </form>
            </div>
        </div>
        <div class="col-3" id="chatSection" style="border: 1px solid black;">
            <!-- Below includes the code in members.html -->
            {% include "members.html" %}
        </div>        
    </div>
</div>

{% endblock %}

{% block bottom_script %} 

{% endblock bottom_script %}